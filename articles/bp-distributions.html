<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="pedbp">
<title>Pediatric Blood Pressure Distributions • pedbp</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Pediatric Blood Pressure Distributions">
<meta property="og:description" content="pedbp">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">pedbp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2-9003</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/additional-utilities.html">Additional Utilities</a>
    <a class="dropdown-item" href="../articles/bp-distributions.html">Pediatric Blood Pressure Distributions</a>
    <a class="dropdown-item" href="../articles/growth-standards.html">Growth Standards</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dewittpe/pedbp/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Pediatric Blood Pressure Distributions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dewittpe/pedbp/blob/HEAD/vignettes/bp-distributions.Rmd" class="external-link"><code>vignettes/bp-distributions.Rmd</code></a></small>
      <div class="d-none name"><code>bp-distributions.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dewittpe/pedbp/" class="external-link">pedbp</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Part of the work of <span class="citation">Martin, DeWitt, Scott, et
al. (2022)</span> required transforming blood pressure measurement into
percentiles based on published norms. This work was complicated by the
fact that data for pediatric blood pressure percentiles is sparse and
generally only applicable to children at least one year of age and
requires height, a commonly unavailable data point in electronic health
records for a variety of reasons.</p>
<p>A solution to building pediatric blood pressure percentiles was
developed and is presented here for others to use. Inputs for the
developed method are:</p>
<ol style="list-style-type: decimal">
<li>Patient sex (male/female) <em>required</em>
</li>
<li>Systolic blood pressure (mmHg) <em>required</em>
</li>
<li>Diastolic blood pressure (mmHg) <em>required</em>
</li>
<li>Patient height (cm) <em>if known</em>.</li>
</ol>
<p>Given the inputs, the following logic is used to determine which data
sets will be used to inform the blood pressure percentiles. Under one
year of age, the data from <span class="citation">Gemelli et al.
(1990)</span> will be used; a height input is not required for this
patient subset. For those at least one year of age with a known height,
data from <span class="citation">Expert Panel on Integrated Guidelines
for Cardiovascular Health and Risk Reduction in Children and Adolescents
(2011)</span> (hereafter referred to as ‘NHLBI/CDC’ as the report
incorporates recommendations and inputs from the National Heart, Lung,
and Blood Institute [NHLBI] and the Centers for Disease Control and
Prevention [CDC]). If height is unknown and age is at least three years,
then data from <span class="citation">Lo et al. (2013)</span> is used.
Lastly, for children between one and three years of age with unknown
height, blood pressure percentiles are estimated by the NHLBI/CDC data
using as a default the median height for each patient’s sex and age.</p>
<p><img src="../reference/figures/flowchart.png" width="334" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="estimating-pediatric-blood-pressure-distributions">Estimating Pediatric Blood Pressure Distributions<a class="anchor" aria-label="anchor" href="#estimating-pediatric-blood-pressure-distributions"></a>
</h2>
<p>There are two functions provided for working with blood pressure
distributions. These methods use Gaussian distributions for both
systolic and diastolic blood pressures with means and standard
deviations either explicitly provided in an aforementioned source or
derived by optimizing the parameters such that the sum of squared errors
between the provided quantiles from an aforementioned source and the
distribution quantiles is minimized. The provided functions, a
distribution function and a quantile function, follow a similar naming
convention to the distribution functions found in the stats library in
R.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/args.html" class="external-link">args</a></span><span class="op">(</span><span class="va">p_bp</span><span class="op">)</span></span>
<span><span class="co">## function (q_sbp, q_dbp, age, male, height = NA, height_percentile = NA, </span></span>
<span><span class="co">##     default_height_percentile = 0.5, source = getOption("pedbp_bp_source", </span></span>
<span><span class="co">##         "martin2022"), ...) </span></span>
<span><span class="co">## NULL</span></span>
<span></span>
<span><span class="co"># Quantile Function</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/args.html" class="external-link">args</a></span><span class="op">(</span><span class="va">q_bp</span><span class="op">)</span></span>
<span><span class="co">## function (p_sbp, p_dbp, age, male, height = NA, height_percentile = NA, </span></span>
<span><span class="co">##     default_height_percentile = 0.5, source = getOption("pedbp_bp_source", </span></span>
<span><span class="co">##         "martin2022"), ...) </span></span>
<span><span class="co">## NULL</span></span></code></pre></div>
<p>Both methods expect an age in months and an indicator for sex. If
height is missing, e.g., NA, then the default height percentile of 50
will be used as applicable based on the patient’s age group. The end
user may modify the default height percentile.</p>
<p>If height is entered, then the height percentile is determined via an
LMS method for age and sex using corresponding LMS data from the CDC
(more information on LMS methods and data is provided later in this
vignette). The parameters for the blood pressure distribution are found
in a look up table using the nearest age and height percentile.</p>
<div class="section level3">
<h3 id="percentiles">Percentiles<a class="anchor" aria-label="anchor" href="#percentiles"></a>
</h3>
<p>What percentile for systolic and diastolic blood pressure is 100/60
for a 44 month old male with unknown height?</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span>q_sbp <span class="op">=</span> <span class="fl">100</span>, q_dbp <span class="op">=</span> <span class="fl">60</span>, age <span class="op">=</span> <span class="fl">44</span>, male <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">## $sbp_percentile</span></span>
<span><span class="co">## [1] 0.7700861</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp_percentile</span></span>
<span><span class="co">## [1] 0.72739</span></span></code></pre></div>
<p>Those percentiles would be modified if height was 183 cm:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span>q_sbp <span class="op">=</span> <span class="fl">100</span>, q_dbp <span class="op">=</span> <span class="fl">60</span>, age <span class="op">=</span> <span class="fl">44</span>, male <span class="op">=</span> <span class="fl">1</span>, height <span class="op">=</span> <span class="fl">183</span><span class="op">)</span></span>
<span><span class="co">## $sbp_percentile</span></span>
<span><span class="co">## [1] 0.6764343</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp_percentile</span></span>
<span><span class="co">## [1] 0.8485739</span></span></code></pre></div>
<p>The package can also be used to determine the blood pressure
percentiles corresponding to a child of a given height percentile. First
find the height quantile using the q_height_for_age function, and then
use this height measurement (provided in centimeters) as the height
input for the <code>p_bp</code> function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ht</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/stature_for_age.html">q_height_for_age</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.90</span>, age <span class="op">=</span> <span class="fl">44</span>, male <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">ht</span></span>
<span><span class="co">## [1] 104.9021</span></span>
<span></span>
<span><span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span>q_sbp <span class="op">=</span> <span class="fl">100</span>, q_dbp <span class="op">=</span> <span class="fl">60</span>, age <span class="op">=</span> <span class="fl">44</span>, male <span class="op">=</span> <span class="fl">1</span>, height <span class="op">=</span> <span class="va">ht</span><span class="op">)</span></span>
<span><span class="co">## $sbp_percentile</span></span>
<span><span class="co">## [1] 0.7086064</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp_percentile</span></span>
<span><span class="co">## [1] 0.8485739</span></span></code></pre></div>
<p>A plotting method to show where the observed blood pressures are on
the distribution function is also provided.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bp_cdf.html">bp_cdf</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fl">44</span>, male <span class="op">=</span> <span class="fl">1</span>, height <span class="op">=</span> <span class="va">ht</span>, sbp <span class="op">=</span> <span class="fl">100</span>, dbp <span class="op">=</span> <span class="fl">60</span><span class="op">)</span></span></code></pre></div>
<p><img src="bp-distributions_files/figure-html/unnamed-chunk-6-1.png" width="480" style="display: block; margin: auto;"></p>
<p>Vectors of blood pressures can be used as well. NA values will return
NA.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bps</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span></span>
<span>         q_sbp  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="cn">NA</span>, <span class="fl">90</span><span class="op">)</span></span>
<span>       , q_dbp  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">60</span>, <span class="fl">82</span>, <span class="fl">48</span><span class="op">)</span></span>
<span>       , age    <span class="op">=</span> <span class="fl">44</span></span>
<span>       , male   <span class="op">=</span> <span class="fl">1</span></span>
<span>       , height <span class="op">=</span> <span class="va">ht</span></span>
<span>      <span class="op">)</span></span>
<span><span class="va">bps</span></span>
<span><span class="co">## $sbp_percentile</span></span>
<span><span class="co">## [1] 0.7086064        NA 0.3570500</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp_percentile</span></span>
<span><span class="co">## [1] 0.8485739 0.9982486 0.4998918</span></span></code></pre></div>
<p>If you want to know which data source was used in computing each of
the percentile estimates you can look at the <code>bp_params</code>
attribute:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">bps</span>, <span class="st">"bp_params"</span><span class="op">)</span></span>
<span><span class="co">##   source male age sbp_mean   sbp_sd dbp_mean   dbp_sd height_percentile</span></span>
<span><span class="co">## 1  nhlbi    1  36 94.00094 10.92093 48.00316 11.64362                90</span></span>
<span><span class="co">## 2  nhlbi    1  36 94.00094 10.92093 48.00316 11.64362                90</span></span>
<span><span class="co">## 3  nhlbi    1  36 94.00094 10.92093 48.00316 11.64362                90</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">bps</span><span class="op">)</span></span>
<span><span class="co">## List of 2</span></span>
<span><span class="co">##  $ sbp_percentile: num [1:3] 0.709 NA 0.357</span></span>
<span><span class="co">##  $ dbp_percentile: num [1:3] 0.849 0.998 0.5</span></span>
<span><span class="co">##  - attr(*, "bp_params")='data.frame':    3 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ source           : chr [1:3] "nhlbi" "nhlbi" "nhlbi"</span></span>
<span><span class="co">##   ..$ male             : int [1:3] 1 1 1</span></span>
<span><span class="co">##   ..$ age              : num [1:3] 36 36 36</span></span>
<span><span class="co">##   ..$ sbp_mean         : num [1:3] 94 94 94</span></span>
<span><span class="co">##   ..$ sbp_sd           : num [1:3] 10.9 10.9 10.9</span></span>
<span><span class="co">##   ..$ dbp_mean         : num [1:3] 48 48 48</span></span>
<span><span class="co">##   ..$ dbp_sd           : num [1:3] 11.6 11.6 11.6</span></span>
<span><span class="co">##   ..$ height_percentile: num [1:3] 90 90 90</span></span>
<span><span class="co">##  - attr(*, "class")= chr [1:2] "pedbp_bp" "pedbp_p_bp"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="quantiles">Quantiles<a class="anchor" aria-label="anchor" href="#quantiles"></a>
</h3>
<p>If you have a percentile value and want to know the associated
systolic and diastolic blood pressures:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bp_distribution.html">q_bp</a></span><span class="op">(</span></span>
<span>       p_sbp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.701</span>, <span class="cn">NA</span>, <span class="fl">0.36</span><span class="op">)</span></span>
<span>     , p_dbp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.85</span>, <span class="fl">0.99</span>, <span class="fl">0.50</span><span class="op">)</span></span>
<span>     , age <span class="op">=</span> <span class="fl">44</span></span>
<span>     , male <span class="op">=</span> <span class="fl">1</span></span>
<span>     , height <span class="op">=</span> <span class="va">ht</span></span>
<span>    <span class="op">)</span></span>
<span><span class="co">## $sbp</span></span>
<span><span class="co">## [1] 99.75931       NA 90.08624</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp</span></span>
<span><span class="co">## [1] 60.07099 75.09026 48.00316</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="working-with-more-than-one-patient">Working With More Than One Patient<a class="anchor" aria-label="anchor" href="#working-with-more-than-one-patient"></a>
</h3>
<p>The <code>p_bp</code> and <code>q_bp</code> methods are designed
accept vectors for each of the arguments. These methods expected each
argument to be length 1 or all the same length.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eg_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"example_data"</span>, <span class="st">"for_batch.csv"</span>, package <span class="op">=</span> <span class="st">"pedbp"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">eg_data</span></span>
<span><span class="co">##           pid age_months male height..cm. sbp..mmHg. dbp..mmHg.</span></span>
<span><span class="co">## 1   patient_A         96    1          NA        102         58</span></span>
<span><span class="co">## 2   patient_B        144    0         153        113         NA</span></span>
<span><span class="co">## 3   patient_C          4    0          62         82         43</span></span>
<span><span class="co">## 4 patient_D_1         41    1          NA         96         62</span></span>
<span><span class="co">## 5 patient_D_2         41    1         101         96         62</span></span>
<span></span>
<span><span class="va">bp_percentiles</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span></span>
<span>         q_sbp  <span class="op">=</span> <span class="va">eg_data</span><span class="op">$</span><span class="va">sbp..mmHg.</span></span>
<span>       , q_dbp  <span class="op">=</span> <span class="va">eg_data</span><span class="op">$</span><span class="va">dbp..mmHg.</span></span>
<span>       , age    <span class="op">=</span> <span class="va">eg_data</span><span class="op">$</span><span class="va">age</span></span>
<span>       , male   <span class="op">=</span> <span class="va">eg_data</span><span class="op">$</span><span class="va">male</span></span>
<span>       , height <span class="op">=</span> <span class="va">eg_data</span><span class="op">$</span><span class="va">height</span></span>
<span>       <span class="op">)</span></span>
<span><span class="va">bp_percentiles</span></span>
<span><span class="co">## $sbp_percentile</span></span>
<span><span class="co">## [1] 0.5533069 0.7680539 0.2622697 0.6195685 0.6101919</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp_percentile</span></span>
<span><span class="co">## [1] 0.4120704        NA 0.1356661 0.8028518 0.9011250</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">bp_percentiles</span><span class="op">)</span></span>
<span><span class="co">## List of 2</span></span>
<span><span class="co">##  $ sbp_percentile: num [1:5] 0.553 0.768 0.262 0.62 0.61</span></span>
<span><span class="co">##  $ dbp_percentile: num [1:5] 0.412 NA 0.136 0.803 0.901</span></span>
<span><span class="co">##  - attr(*, "bp_params")='data.frame':    5 obs. of  8 variables:</span></span>
<span><span class="co">##   ..$ source           : chr [1:5] "lo2013" "nhlbi" "gemelli1990" "lo2013" ...</span></span>
<span><span class="co">##   ..$ male             : int [1:5] 1 0 0 1 1</span></span>
<span><span class="co">##   ..$ age              : num [1:5] 96 144 3 36 36</span></span>
<span><span class="co">##   ..$ sbp_mean         : num [1:5] 100.7 105 89 93.2 93</span></span>
<span><span class="co">##   ..$ sbp_sd           : num [1:5] 9.7 10.9 11 9.2 10.7</span></span>
<span><span class="co">##   ..$ dbp_mean         : num [1:5] 59.8 62 54 55.1 47</span></span>
<span><span class="co">##   ..$ dbp_sd           : num [1:5] 8.1 10.9 10 8.1 11.6</span></span>
<span><span class="co">##   ..$ height_percentile: num [1:5] NA 50 NA NA 75</span></span>
<span><span class="co">##  - attr(*, "class")= chr [1:2] "pedbp_bp" "pedbp_p_bp"</span></span></code></pre></div>
<p>Going from percentiles back to quantiles:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bp_distribution.html">q_bp</a></span><span class="op">(</span></span>
<span>       p_sbp  <span class="op">=</span> <span class="va">bp_percentiles</span><span class="op">$</span><span class="va">sbp_percentile</span></span>
<span>     , p_dbp  <span class="op">=</span> <span class="va">bp_percentiles</span><span class="op">$</span><span class="va">dbp_percentile</span></span>
<span>     , age    <span class="op">=</span> <span class="va">eg_data</span><span class="op">$</span><span class="va">age</span></span>
<span>     , male   <span class="op">=</span> <span class="va">eg_data</span><span class="op">$</span><span class="va">male</span></span>
<span>     , height <span class="op">=</span> <span class="va">eg_data</span><span class="op">$</span><span class="va">height</span></span>
<span>     <span class="op">)</span></span>
<span><span class="co">## $sbp</span></span>
<span><span class="co">## [1] 102 113  82  96  96</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp</span></span>
<span><span class="co">## [1] 58 NA 43 62 62</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="blood-pressure-charts">Blood Pressure Charts<a class="anchor" aria-label="anchor" href="#blood-pressure-charts"></a>
</h2>
<div class="section level3">
<h3 id="when-height-is-unknown-or-irrelevant">When Height is Unknown or Irrelevant<a class="anchor" aria-label="anchor" href="#when-height-is-unknown-or-irrelevant"></a>
</h3>
<p>The following graphic shows the percentile curves by age and sex when
height is unknown, or irrelevant (for those under 12 months of age).</p>
<p><img src="bp-distributions_files/figure-html/chart1_female-1.png" width="768" style="display: block; margin: auto;"></p>
<p><img src="bp-distributions_files/figure-html/chart1_male-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="median-blood-pressures-varying-default-height-percentile">Median Blood Pressures – Varying default height percentile<a class="anchor" aria-label="anchor" href="#median-blood-pressures-varying-default-height-percentile"></a>
</h3>
<p>If height is unknown, there will be no difference in the estimated
percentile for blood pressures when modifying the default
height_percentile with the exception of values for patients between the
ages of 12 and 36 months. Patients under 12 months of age have
percentiles estimated using data from <span class="citation">Gemelli et
al. (1990)</span> which does not consider height (length). For patients
over 36 months of age data from <span class="citation">Lo et al.
(2013)</span>, which also does not consider height, is used.</p>
<p>The following graphic shows the median blood pressure in mmHg by age
when varying the default height percentile used. The colors refer to the
height percentile.</p>
<p><img src="bp-distributions_files/figure-html/chart2_female-1.png" width="768" style="display: block; margin: auto;"></p>
<p><img src="bp-distributions_files/figure-html/chart2_male-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="median-blood-pressures-for-children-with-known-heights">Median Blood Pressures for Children with Known Heights<a class="anchor" aria-label="anchor" href="#median-blood-pressures-for-children-with-known-heights"></a>
</h3>
<p>The following chart shows the median blood pressure by age for
different heights based on percentiles for age.</p>
<p><img src="bp-distributions_files/figure-html/chart3_female-1.png" width="768" style="display: block; margin: auto;"></p>
<p><img src="bp-distributions_files/figure-html/chart3_male-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="select-source-data">Select Source Data<a class="anchor" aria-label="anchor" href="#select-source-data"></a>
</h2>
<p>The default method for estimating blood pressure percentiles is based
on the method of <span class="citation">Martin, DeWitt, Scott, et al.
(2022)</span> and <span class="citation">Martin, DeWitt, Albers, et al.
(2022)</span> which uses three different references depending on age and
known/unknown stature. If you want to use a specific reference then you
can do so by using the <code>source</code> argument.</p>
<p>If you have a project with the want/need to use a specific source and
you’d to use you can set it as an option:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"pedbp_bp_source"</span>, <span class="st">"martin2022"</span><span class="op">)</span>  <span class="co"># default</span></span></code></pre></div>
<p>There are four sources:</p>
<ol style="list-style-type: decimal">
<li>
<span class="citation">Gemelli et al. (1990)</span> for kids under
one year of age.</li>
<li>
<span class="citation">Lo et al. (2013)</span> for kids over three
years of age and when height is unknown.</li>
<li>
<span class="citation">Expert Panel on Integrated Guidelines for
Cardiovascular Health and Risk Reduction in Children and Adolescents
(2011)</span> for kids 1 through 18 years of age with known
stature.</li>
<li>
<span class="citation">Flynn et al. (2017)</span> for kids 1 through
18 years of age with known stature.</li>
</ol>
<p>The data from <span class="citation">Flynn et al. (2017)</span> and
<span class="citation">Expert Panel on Integrated Guidelines for
Cardiovascular Health and Risk Reduction in Children and Adolescents
(2011)</span> are similar but for one major difference. <span class="citation">Flynn et al. (2017)</span> excluded overweight and
obese ( BMI above the 85th percentile) children.</p>
<p>For example, the estimated percentile for a blood pressure of 92/60
in a 29.2 month old female in the 95th height percentile are:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span>q_sbp <span class="op">=</span> <span class="fl">92</span>, q_dbp <span class="op">=</span> <span class="fl">60</span>, age <span class="op">=</span> <span class="fl">29.2</span>, male <span class="op">=</span> <span class="fl">0</span>, height_percentile <span class="op">=</span> <span class="fl">0.95</span>, source <span class="op">=</span> <span class="st">"martin2022"</span><span class="op">)</span> <span class="co"># default</span></span>
<span><span class="co">## $sbp_percentile</span></span>
<span><span class="co">## [1] 0.536445</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp_percentile</span></span>
<span><span class="co">## [1] 0.8830337</span></span>
<span><span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span>q_sbp <span class="op">=</span> <span class="fl">92</span>, q_dbp <span class="op">=</span> <span class="fl">60</span>, age <span class="op">=</span> <span class="fl">29.2</span>, male <span class="op">=</span> <span class="fl">0</span>, height_percentile <span class="op">=</span> <span class="fl">0.95</span>, source <span class="op">=</span> <span class="st">"gemelli1990"</span><span class="op">)</span></span>
<span><span class="co">## $sbp_percentile</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp_percentile</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span>q_sbp <span class="op">=</span> <span class="fl">92</span>, q_dbp <span class="op">=</span> <span class="fl">60</span>, age <span class="op">=</span> <span class="fl">29.2</span>, male <span class="op">=</span> <span class="fl">0</span>, height_percentile <span class="op">=</span> <span class="fl">0.95</span>, source <span class="op">=</span> <span class="st">"lo2013"</span><span class="op">)</span></span>
<span><span class="co">## $sbp_percentile</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp_percentile</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span>q_sbp <span class="op">=</span> <span class="fl">92</span>, q_dbp <span class="op">=</span> <span class="fl">60</span>, age <span class="op">=</span> <span class="fl">29.2</span>, male <span class="op">=</span> <span class="fl">0</span>, height_percentile <span class="op">=</span> <span class="fl">0.95</span>, source <span class="op">=</span> <span class="st">"nhlbi"</span><span class="op">)</span></span>
<span><span class="co">## $sbp_percentile</span></span>
<span><span class="co">## [1] 0.536445</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp_percentile</span></span>
<span><span class="co">## [1] 0.8830337</span></span>
<span><span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span>q_sbp <span class="op">=</span> <span class="fl">92</span>, q_dbp <span class="op">=</span> <span class="fl">60</span>, age <span class="op">=</span> <span class="fl">29.2</span>, male <span class="op">=</span> <span class="fl">0</span>, height_percentile <span class="op">=</span> <span class="fl">0.95</span>, source <span class="op">=</span> <span class="st">"flynn2017"</span><span class="op">)</span></span>
<span><span class="co">## $sbp_percentile</span></span>
<span><span class="co">## [1] 0.5345658</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp_percentile</span></span>
<span><span class="co">## [1] 0.8480019</span></span></code></pre></div>
<p>The estimated 85th quantile SBP/DBP for a 29.2 month old female, who
is in the 95th height percentile are:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bp_distribution.html">q_bp</a></span><span class="op">(</span>p_sbp <span class="op">=</span> <span class="fl">0.85</span>, p_dbp <span class="op">=</span> <span class="fl">0.85</span>, age <span class="op">=</span> <span class="fl">29.2</span>, male <span class="op">=</span> <span class="fl">0</span>, height_percentile <span class="op">=</span> <span class="fl">0.95</span>, source <span class="op">=</span> <span class="st">"martin2022"</span><span class="op">)</span> <span class="co"># default</span></span>
<span><span class="co">## $sbp</span></span>
<span><span class="co">## [1] 102.3197</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp</span></span>
<span><span class="co">## [1] 58.31975</span></span>
<span><span class="fu"><a href="../reference/bp_distribution.html">q_bp</a></span><span class="op">(</span>p_sbp <span class="op">=</span> <span class="fl">0.85</span>, p_dbp <span class="op">=</span> <span class="fl">0.85</span>, age <span class="op">=</span> <span class="fl">29.2</span>, male <span class="op">=</span> <span class="fl">0</span>, height_percentile <span class="op">=</span> <span class="fl">0.95</span>, source <span class="op">=</span> <span class="st">"gemelli1990"</span><span class="op">)</span></span>
<span><span class="co">## $sbp</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="fu"><a href="../reference/bp_distribution.html">q_bp</a></span><span class="op">(</span>p_sbp <span class="op">=</span> <span class="fl">0.85</span>, p_dbp <span class="op">=</span> <span class="fl">0.85</span>, age <span class="op">=</span> <span class="fl">29.2</span>, male <span class="op">=</span> <span class="fl">0</span>, height_percentile <span class="op">=</span> <span class="fl">0.95</span>, source <span class="op">=</span> <span class="st">"lo2013"</span><span class="op">)</span></span>
<span><span class="co">## $sbp</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="fu"><a href="../reference/bp_distribution.html">q_bp</a></span><span class="op">(</span>p_sbp <span class="op">=</span> <span class="fl">0.85</span>, p_dbp <span class="op">=</span> <span class="fl">0.85</span>, age <span class="op">=</span> <span class="fl">29.2</span>, male <span class="op">=</span> <span class="fl">0</span>, height_percentile <span class="op">=</span> <span class="fl">0.95</span>, source <span class="op">=</span> <span class="st">"nhlbi"</span><span class="op">)</span></span>
<span><span class="co">## $sbp</span></span>
<span><span class="co">## [1] 102.3197</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp</span></span>
<span><span class="co">## [1] 58.31975</span></span>
<span><span class="fu"><a href="../reference/bp_distribution.html">q_bp</a></span><span class="op">(</span>p_sbp <span class="op">=</span> <span class="fl">0.85</span>, p_dbp <span class="op">=</span> <span class="fl">0.85</span>, age <span class="op">=</span> <span class="fl">29.2</span>, male <span class="op">=</span> <span class="fl">0</span>, height_percentile <span class="op">=</span> <span class="fl">0.95</span>, source <span class="op">=</span> <span class="st">"flynn2017"</span><span class="op">)</span></span>
<span><span class="co">## $sbp</span></span>
<span><span class="co">## [1] 102.8184</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $dbp</span></span>
<span><span class="co">## [1] 60.07481</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="comparing-to-published-percentiles">Comparing to Published Percentiles<a class="anchor" aria-label="anchor" href="#comparing-to-published-percentiles"></a>
</h2>
<p>The percentiles published in <span class="citation">Expert Panel on
Integrated Guidelines for Cardiovascular Health and Risk Reduction in
Children and Adolescents (2011)</span> and <span class="citation">Flynn
et al. (2017)</span> where used to estimate a Gaussian mean and standard
deviation. This was in part to be consistent with the values from <span class="citation">Gemelli et al. (1990)</span> and <span class="citation">Lo et al. (2013)</span>. As a result, the calculated
percentiles and quantiles from the pedbp package will be slightly
different from the published values.</p>
<div class="section level3">
<h3 id="flynn-et-al-">Flynn et al.<a class="anchor" aria-label="anchor" href="#flynn-et-al-"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fq</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/bp_distribution.html">q_bp</a></span><span class="op">(</span></span>
<span>     p_sbp <span class="op">=</span> <span class="va">flynn2017</span><span class="op">$</span><span class="va">bp_percentile</span><span class="op">/</span><span class="fl">100</span>,</span>
<span>     p_dbp <span class="op">=</span> <span class="va">flynn2017</span><span class="op">$</span><span class="va">bp_percentile</span><span class="op">/</span><span class="fl">100</span>,</span>
<span>     male  <span class="op">=</span> <span class="va">flynn2017</span><span class="op">$</span><span class="va">male</span>,</span>
<span>     age   <span class="op">=</span> <span class="va">flynn2017</span><span class="op">$</span><span class="va">age</span>,</span>
<span>     height_percentile <span class="op">=</span> <span class="va">flynn2017</span><span class="op">$</span><span class="va">height_percentile</span><span class="op">/</span><span class="fl">100</span>,</span>
<span>     source <span class="op">=</span> <span class="st">"flynn2017"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fp</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span></span>
<span>     q_sbp <span class="op">=</span> <span class="va">flynn2017</span><span class="op">$</span><span class="va">sbp</span>,</span>
<span>     q_dbp <span class="op">=</span> <span class="va">flynn2017</span><span class="op">$</span><span class="va">dbp</span>,</span>
<span>     male  <span class="op">=</span> <span class="va">flynn2017</span><span class="op">$</span><span class="va">male</span>,</span>
<span>     age   <span class="op">=</span> <span class="va">flynn2017</span><span class="op">$</span><span class="va">age</span>,</span>
<span>     height_percentile <span class="op">=</span> <span class="va">flynn2017</span><span class="op">$</span><span class="va">height_percentile</span><span class="op">/</span><span class="fl">100</span>,</span>
<span>     source <span class="op">=</span> <span class="st">"flynn2017"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">f_bp</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">flynn2017</span>,</span>
<span>        pedbp_sbp <span class="op">=</span> <span class="va">fq</span><span class="op">$</span><span class="va">sbp</span>,</span>
<span>        pedbp_dbp <span class="op">=</span> <span class="va">fq</span><span class="op">$</span><span class="va">dbp</span>,</span>
<span>        pedbp_sbp_percentile <span class="op">=</span> <span class="va">fp</span><span class="op">$</span><span class="va">sbp_percentile</span> <span class="op">*</span> <span class="fl">100</span>,</span>
<span>        pedbp_dbp_percentile <span class="op">=</span> <span class="va">fp</span><span class="op">$</span><span class="va">dbp_percentile</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>All the quantile estimates are within 2 mmHg:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">f_bp</span><span class="op">$</span><span class="va">pedbp_sbp</span> <span class="op">-</span> <span class="va">f_bp</span><span class="op">$</span><span class="va">sbp</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">f_bp</span><span class="op">$</span><span class="va">pedbp_dbp</span> <span class="op">-</span> <span class="va">f_bp</span><span class="op">$</span><span class="va">dbp</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>All the percentiles are within 2 percentile points:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">f_bp</span><span class="op">$</span><span class="va">pedbp_sbp_percentile</span> <span class="op">-</span> <span class="va">f_bp</span><span class="op">$</span><span class="va">bp_percentile</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">f_bp</span><span class="op">$</span><span class="va">pedbp_dbp_percentile</span> <span class="op">-</span> <span class="va">f_bp</span><span class="op">$</span><span class="va">bp_percentile</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="nhlbicdc">NHLBI/CDC<a class="anchor" aria-label="anchor" href="#nhlbicdc"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nq</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/bp_distribution.html">q_bp</a></span><span class="op">(</span></span>
<span>     p_sbp <span class="op">=</span> <span class="va">nhlbi_bp_norms</span><span class="op">$</span><span class="va">bp_percentile</span><span class="op">/</span><span class="fl">100</span>,</span>
<span>     p_dbp <span class="op">=</span> <span class="va">nhlbi_bp_norms</span><span class="op">$</span><span class="va">bp_percentile</span><span class="op">/</span><span class="fl">100</span>,</span>
<span>     male  <span class="op">=</span> <span class="va">nhlbi_bp_norms</span><span class="op">$</span><span class="va">male</span>,</span>
<span>     age   <span class="op">=</span> <span class="va">nhlbi_bp_norms</span><span class="op">$</span><span class="va">age</span>,</span>
<span>     height_percentile <span class="op">=</span> <span class="va">nhlbi_bp_norms</span><span class="op">$</span><span class="va">height_percentile</span><span class="op">/</span><span class="fl">100</span>,</span>
<span>     source <span class="op">=</span> <span class="st">"nhlbi"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">np</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/bp_distribution.html">p_bp</a></span><span class="op">(</span></span>
<span>     q_sbp <span class="op">=</span> <span class="va">nhlbi_bp_norms</span><span class="op">$</span><span class="va">sbp</span>,</span>
<span>     q_dbp <span class="op">=</span> <span class="va">nhlbi_bp_norms</span><span class="op">$</span><span class="va">dbp</span>,</span>
<span>     male  <span class="op">=</span> <span class="va">nhlbi_bp_norms</span><span class="op">$</span><span class="va">male</span>,</span>
<span>     age   <span class="op">=</span> <span class="va">nhlbi_bp_norms</span><span class="op">$</span><span class="va">age</span>,</span>
<span>     height_percentile <span class="op">=</span> <span class="va">nhlbi_bp_norms</span><span class="op">$</span><span class="va">height_percentile</span><span class="op">/</span><span class="fl">100</span>,</span>
<span>     source <span class="op">=</span> <span class="st">"nhlbi"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">nhlbi_bp</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">nhlbi_bp_norms</span>,</span>
<span>        pedbp_sbp <span class="op">=</span> <span class="va">nq</span><span class="op">$</span><span class="va">sbp</span>,</span>
<span>        pedbp_dbp <span class="op">=</span> <span class="va">nq</span><span class="op">$</span><span class="va">dbp</span>,</span>
<span>        pedbp_sbp_percentile <span class="op">=</span> <span class="va">np</span><span class="op">$</span><span class="va">sbp_percentile</span> <span class="op">*</span> <span class="fl">100</span>,</span>
<span>        pedbp_dbp_percentile <span class="op">=</span> <span class="va">np</span><span class="op">$</span><span class="va">dbp_percentile</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>All the quantile estimates are within 2 mmHg:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">nhlbi_bp</span><span class="op">$</span><span class="va">pedbp_sbp</span> <span class="op">-</span> <span class="va">nhlbi_bp</span><span class="op">$</span><span class="va">sbp</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">nhlbi_bp</span><span class="op">$</span><span class="va">pedbp_dbp</span> <span class="op">-</span> <span class="va">nhlbi_bp</span><span class="op">$</span><span class="va">dbp</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>All the percentiles are within 2 percentile points:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">nhlbi_bp</span><span class="op">$</span><span class="va">pedbp_sbp_percentile</span> <span class="op">-</span> <span class="va">nhlbi_bp</span><span class="op">$</span><span class="va">bp_percentile</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">nhlbi_bp</span><span class="op">$</span><span class="va">pedbp_dbp_percentile</span> <span class="op">-</span> <span class="va">nhlbi_bp</span><span class="op">$</span><span class="va">bp_percentile</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="bp-distributions_files/figure-html/unnamed-chunk-20-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="shiny-application">Shiny Application<a class="anchor" aria-label="anchor" href="#shiny-application"></a>
</h2>
<p>An interactive <a href="https://shiny.posit.co/" class="external-link">Shiny</a>
application is also available. After installing the pedbp package and
the suggested packages, you can run the app locally via</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html" class="external-link">runApp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"shinyapps"</span>, <span class="st">"pedbp"</span>, package <span class="op">=</span> <span class="st">"pedbp"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The shiny application allows for interactive exploration of blood
pressure percentiles for an individual patient and allows for batch
processing a set of patients as well.</p>
<p>An example input file for batch processing is provided within the
package an can be accessed via:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"example_data"</span>, <span class="st">"for_batch.csv"</span>, package <span class="op">=</span> <span class="st">"pedbp"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-nhlbi2011expert" class="csl-entry">
Expert Panel on Integrated Guidelines for Cardiovascular Health and Risk
Reduction in Children and Adolescents. 2011. <span>“Expert Panel on
Integrated Guidelines for Cardiovascular Health and Risk Reduction in
Children and Adolescents: Summary Report.”</span> <em>Pediatrics</em>
128 (Supplement_5): S213–56. <a href="https://doi.org/10.1542/peds.2009-2107C" class="external-link">https://doi.org/10.1542/peds.2009-2107C</a>.
</div>
<div id="ref-flynn2017clinical" class="csl-entry">
Flynn, Joseph T, David C Kaelber, Carissa M Baker-Smith, Douglas Blowey,
Aaron E Carroll, Stephen R Daniels, Sarah D de Ferranti, et al. 2017.
<span>“Clinical Practice Guideline for Screening and Management of High
Blood Pressure in Children and Adolescents.”</span> <em>Pediatrics</em>
140 (3).
</div>
<div id="ref-gemelli1990longitudinal" class="csl-entry">
Gemelli, M, R Manganaro, C Mamí, and F De Luca. 1990.
<span>“Longitudinal Study of Blood Pressure During the 1st Year of
Life.”</span> <em>European Journal of Pediatrics</em> 149 (5): 318–20.
<a href="https://doi.org/10.1007/BF02171556" class="external-link">https://doi.org/10.1007/BF02171556</a>.
</div>
<div id="ref-lo2013prehypertension" class="csl-entry">
Lo, Joan C, Alan Sinaiko, Malini Chandra, Matthew F Daley, Louise C
Greenspan, Emily D Parker, Elyse O Kharbanda, et al. 2013.
<span>“Prehypertension and Hypertension in Community-Based Pediatric
Practice.”</span> <em>Pediatrics</em> 131 (2): e415–24. <a href="https://doi.org/10.1542/peds.2012-1292" class="external-link">https://doi.org/10.1542/peds.2012-1292</a>.
</div>
<div id="ref-martin2022development" class="csl-entry">
Martin, Blake, Peter E DeWitt, David Albers, and Tellen D Bennett. 2022.
<span>“Development of a Pediatric Blood Pressure Percentile Tool for
Clinical Decision Support.”</span> <em>JAMA Network Open</em> 5 (10):
e2236918–18.
</div>
<div id="ref-martin2022machine" class="csl-entry">
Martin, Blake, Peter E DeWitt, Halden F Scott, Sarah Parker, and Tellen
D Bennett. 2022. <span>“Machine Learning Approach to Predicting Absence
of Serious Bacterial Infection at PICU Admission.”</span> <em>Hospital
Pediatrics</em> 12 (6): 590–603. https://doi.org/<a href="https://doi.org/10.1542/hpeds.2021-005998" class="external-link">https://doi.org/10.1542/hpeds.2021-005998</a>.
</div>
</div>
</div>
<div class="section level2">
<h2 id="session-info">Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">## R version 4.3.3 (2024-02-29)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.4 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] pedbp_1.0.2-9003 qwraps2_0.6.0   </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] sass_0.4.9        utf8_1.2.4        generics_0.1.3    tidyr_1.3.1      </span></span>
<span><span class="co">##  [5] rstatix_0.7.2     digest_0.6.35     magrittr_2.0.3    evaluate_0.23    </span></span>
<span><span class="co">##  [9] grid_4.3.3        fastmap_1.1.1     jsonlite_1.8.8    backports_1.4.1  </span></span>
<span><span class="co">## [13] purrr_1.0.2       fansi_1.0.6       scales_1.3.0      textshaping_0.3.7</span></span>
<span><span class="co">## [17] jquerylib_0.1.4   abind_1.4-5       cli_3.6.2         rlang_1.1.3      </span></span>
<span><span class="co">## [21] cowplot_1.1.3     munsell_0.5.1     withr_3.0.0       cachem_1.0.8     </span></span>
<span><span class="co">## [25] yaml_2.3.8        tools_4.3.3       memoise_2.0.1     ggsignif_0.6.4   </span></span>
<span><span class="co">## [29] dplyr_1.1.4       colorspace_2.1-0  ggplot2_3.5.0     ggpubr_0.6.0     </span></span>
<span><span class="co">## [33] broom_1.0.5       vctrs_0.6.5       R6_2.5.1          png_0.1-8        </span></span>
<span><span class="co">## [37] lifecycle_1.0.4   car_3.1-2         fs_1.6.3          ragg_1.3.0       </span></span>
<span><span class="co">## [41] pkgconfig_2.0.3   desc_1.4.3        pkgdown_2.0.7     pillar_1.9.0     </span></span>
<span><span class="co">## [45] bslib_0.7.0       gtable_0.3.4      glue_1.7.0        data.table_1.15.4</span></span>
<span><span class="co">## [49] Rcpp_1.0.12       systemfonts_1.0.6 xfun_0.43         tibble_3.2.1     </span></span>
<span><span class="co">## [53] tidyselect_1.2.1  highr_0.10        knitr_1.45        farver_2.1.1     </span></span>
<span><span class="co">## [57] htmltools_0.5.8   carData_3.0-5     rmarkdown_2.26    labeling_0.4.3   </span></span>
<span><span class="co">## [61] compiler_4.3.3</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Peter DeWitt.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
